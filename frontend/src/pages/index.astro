---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.svelte';
import Avatar from '../components/Avatar.svelte';
import { getAllPosts } from '../sanity/api.js';
import { urlForImage } from '../sanity/urlForImage';
const posts = await getAllPosts();
---

<Layout title="Welcome to Astro.">
  <main>
    <section class="flex flex-col items-center justify-center mt-4">
      <Avatar></Avatar>
      <a href="#" class="font-bold text-3xl">Neit <span class="text-primary text-5xl">.</span></a>
      <p class="font-medium text-base-300">My beautiful princess</p>
    </section>
    <div class="divider max-w-[70%] mx-auto"></div> 
    <section class="max-w-[70%] mx-auto">
      <Navbar></Navbar>
    </section>
    
    <h1>Welcome to <span class="text-gradient">my posts</span></h1>
    <ul>
      {
        posts.map((post: any) => (
          <li>
						<img src={urlForImage(post.mainImage).url()} />
            <a href={`/posts/${post.slug.current}`}>{post.title}</a>
          </li>
        ))
      }
    </ul>
  </main>
</Layout>

<style>
</style>
